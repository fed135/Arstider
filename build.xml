<project name="Arstider" basedir=".">
    <description>
        simple example build file
    </description>
	<!-- set global properties for this build -->
	<property name="src" location="src"/>
	<property name="dest" location="c:\wamp\www\Arstider\dev"/>
	<!-- you could change it to whichever browser you prefer -->
	<property name="browser" location="C:\Users\Frederic\AppData\Local\Google\Chrome\Application\chrome.exe"/>
	
	<target name="clean">
		<!-- Create the time stamp -->
		<echo>Preparing...</echo>
		<tstamp/>
		<!-- Clear the build directory structure used by compile -->
		<delete dir="${dest}"/>
		<mkdir dir="${dest}"/>
	</target>

	<target name="build.dev" depends="clean">
		<echo>### Building Dev...</echo>
		<echo>###############################################</echo>
		<echo>->Moving demo to destination folder...</echo>
		<copy todir="${dest}">
			<fileset dir="demos">
				<exclude name="**/*.scss"/>
				<exclude name="**/*.css"/>
				<exclude name="**/*.css"/>
				<exclude name="**/empty.txt"/>
			</fileset>
		</copy>
		<echo>->Minifying Javascript using V8...</echo>
		<concat destfile="${dest}/lib/arstider.js">
			<fileset dir="${src}" includes="**/*.js" />
		</concat>
		<exec executable="v8compile.bat">
			<arg value="${dest}\lib\arstider.js" />
		</exec>
		<echo>Ok</echo>
		<echo>->Launching in chrome...</echo>
		<exec executable="${browser}" spawn="false">
			<arg value="http://localhost/Arstider/dev/demo1/index.html"/>
		</exec>
	</target>
	
	<target name="build.release" depends="build.dev">
			<echo>### Building Official...</echo>
			<echo>###############################################</echo>
			<!--Move latest in RL to it's apropriate version folder-->
			<!--Move build in RL latest-->
		</target>
</project>